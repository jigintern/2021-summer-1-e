<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="apple-touch-icon" href="map-ogp.png"/>
        <meta property="og:image" content="map-ogp.png"/>
        <link rel="stylesheet" href="rootRegister.css" type="text/css">
        <link rel='stylesheet' href='https://code4sabae.github.io/leaflet-mjs/leaflet.css'/>
        <title>ル－ト登録</title>
        <script type='module'>

            import L from 'https://code4sabae.github.io/leaflet-mjs/leaflet.mjs'
            
            window.onload = async function() {
              const data = [
                { lat: 35.943560, lng: 136.188917, name: '鯖江駅' },
                { lat: 35.944539, lng: 136.186222, name: 'Hana道場' },
                { lat: 35.942795, lng: 136.198881, name: 'めがね会館' },
                { lat: 35.949658, lng: 136.258142, name: 'JAPAN CRAFT HOUSE' },
              ]
            
              const map = L.map('mapid')
              // set 国土地理院地図 https://maps.gsi.go.jp/development/ichiran.html
              L.tileLayer("https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png", {
                    attribution: '<a href="https://maps.gsi.go.jp/development/ichiran.html">国土地理院</a>"',
                    maxZoom: 18,
              }).addTo(map)
            
              let iconlayer = L.layerGroup()
              iconlayer.addTo(map)
              const lls = []
              for (const item of data) {
                const ll = [ item.lat, item.lng ]
                const marker = L.marker(ll, { title: item.name })
                marker.bindPopup(item.name)
                iconlayer.addLayer(marker)
                lls.push(ll)
              }
              if (lls.length)
                map.fitBounds(lls)
            }
            
    </script>
    </head>
    <body>
        <h2>ルート</h2>  
        <input type="button" value="ルート1" onclick="clickBtn1()" class="button1"/>
        <div id="p1" class="hidden">ルート詳細</div>
        <script>
        //初期表示は非表示
        document.getElementById("p1").style.display ="none";
        </script>
        <div class="formBalloon" style="position: absolute; z-index: 2;">
            <div class="formBalloonContent"></div>
            <div class="formBalloonArrow"></div>
          </div>
        <div class="position1">
            <h2>地図</h2> 
            <div id="mapid"></div>
        </div>
        <div class="position2">
            <h2>投稿者コメント</h2>
            <textarea class="textArea" id=inp_body
            placeholder="コメント"
            onblur="coloeSet(this)"
            onfocus="colorReset(this)"
            ></textarea><br>
            <button class="btn-square" id=btn_write>書き込む</button> 
    </body>
</html> 